{"mappings":"AAAAA,SAASC,iBAAiB,+BAMzB,MAAMC,EAAYF,SAASG,eAAe,cACpCC,EAAOJ,SAASG,eAAe,aAC/BE,EAAkBL,SAASG,eAAe,oBAC1CG,EAAmBN,SAASG,eAAe,WAEjD,IAAII,EAAU,YAeLC,EAAUC,EAASC,EAASC,GACpCN,EAAgBO,MAAQH,EACxBJ,EAAgBQ,QAChBC,YAAU,KACTT,EAAgBO,MAAQD,GAAS,KAC/BD,YAOKK,EAAMC,GACdA,EAAGC,iBAEH,MAAMC,EAAMb,EAAgBO,MAC5B,IAAKM,EACJ,OAAO,EAGR,MAAMC,EAAWD,EAAIE,MAAK,4BAC1B,GAAiB,OAAbD,EAEH,OADAX,EAAU,6BAA8B,MACjC,EAGR,MAAMa,EAAQF,EAASG,KAAK,IAAIC,MAAM,IAItC,GAHgBF,EAAMG,QAAQC,GAAY,MAANA,IAAWC,SAC/BL,EAAMG,QAAQC,GAAY,MAANA,IAAWC,OAI9C,OADAlB,EAAU,oEAAqE,MACxE,EAGR,MAAMmB,EAAaN,EAAMC,KAAK,IACxBV,WAUoBe,GAE3B,OAAOA,EAAWJ,MAAM,IAAID,KAAK,KAZlBM,CAAmBD,GAMjC,OAJApB,EAAQsB,KAAK,YAAEF,QAAYf,IAC3BN,EAAiBwB,mBAYIvB,GACtB,MAAMwB,EAAU,CAAIC,EAAMC,IAAK,gCACLA,mBACvBD,EAAKL,gBAAgBK,EAAKpB,YAG7B,OAAOL,EAAQ2B,IAAIH,GAAYT,KAAK,SAlBNa,CAAc5B,GAC3CC,EAAU,GAAI,IAEP,EAvDRH,EAAgBQ,QAChBT,EAAKH,iBAAiB,SAAUc,GAChCb,EAAUD,iBAAiB,QAASc,GACpCT,EAAiBL,iBAAiB,SAAUe,IAC3C,GAA0B,MAAtBA,EAAGoB,OAAOC,QACb,OAED,MAAMC,EAAMtB,EAAGoB,OAAOG,QAAQN,MAe9BzB,EAAU,GAAI,EAAGD,EAbL+B,GAaoBX","sources":["src/app.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', initApp)\n\nconst ALLOWED_CHARS = ['+', '-', '*', '/', '%']\nconst MAX_AMOUNT_OF_RESULTS = 10\n\nfunction initApp() {\n\tconst submitBtn = document.getElementById('submit-btn')\n\tconst form = document.getElementById('main-form')\n\tconst expressionInput = document.getElementById('expression-input')\n\tconst resultsContainer = document.getElementById('results')\n\n\tlet results = []\n\n\texpressionInput.focus()\n\tform.addEventListener('submit', count)\n\tsubmitBtn.addEventListener('click', count)\n\tresultsContainer.addEventListener('click', (ev) => {\n\t\tif (ev.target.tagName !== 'A') {\n\t\t\treturn\n\t\t}\n\t\tconst idx = ev.target.dataset.index\n\t\tif (typeof idx !== undefined) {\n\t\t\teditResult(idx)\n\t\t}\n\t})\n\n\tfunction fillInput(content, timeout, after) {\n\t\texpressionInput.value = content\n\t\texpressionInput.focus()\n\t\tsetTimeout(() => {\n\t\t\texpressionInput.value = after ?? ''\n\t\t}, timeout)\n\t}\n\n\tfunction editResult(index) {\n\t\tfillInput('', 0, results[index].expression)\n\t}\n\n\tfunction count(ev) {\n\t\tev.preventDefault()\n\n\t\tconst exp = expressionInput.value\n\t\tif (!exp) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst filtered = exp.match(/([\\(\\)\\*\\+\\-\\/\\%,0-9]+)/g)\n\t\tif (filtered === null) {\n\t\t\tfillInput('Error: Invalid characters!', 2e3)\n\t\t\treturn false\n\t\t}\n\n\t\tconst chars = filtered.join('').split('')\n\t\tconst opening = chars.filter((i) => i === '(').length\n\t\tconst closing = chars.filter((i) => i === ')').length\n\n\t\tif (opening !== closing) {\n\t\t\tfillInput('Error: Number of opening bracket is not equal to closing bracket!', 2e3)\n\t\t\treturn false\n\t\t}\n\n\t\tconst expression = chars.join('')\n\t\tconst value = evaluateExpression(expression)\n\n\t\tresults.push({ expression, value })\n\t\tresultsContainer.innerHTML = renderResults(results)\n\t\tfillInput('', 0)\n\n\t\treturn false\n\t}\n}\n\nfunction evaluateExpression(expression) {\n\t// @todo\n\treturn expression.split('').join('_')\n}\n\nfunction renderResults(results) {\n\tconst renderItem = (item, index) => `\n\t\t<a href=\"#\" data-index=${index}>Edit</a>\n\t\t${item.expression} = ${item.value}\n\t`\n\n\treturn results.map(renderItem).join('<br/>')\n}\n"],"names":["document","addEventListener","submitBtn","getElementById","form","expressionInput","resultsContainer","results","fillInput","content","timeout","after","value","focus","setTimeout","count","ev","preventDefault","exp","filtered","match","chars","join","split","filter","i","length","expression","$c4d1fe8e368d7554$var$evaluateExpression","push","innerHTML","renderItem","item","index","map","$c4d1fe8e368d7554$var$renderResults","target","tagName","idx","dataset"],"version":3,"file":"index.901af382.js.map","sourceRoot":"../"}